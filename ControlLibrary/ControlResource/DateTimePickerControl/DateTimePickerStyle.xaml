<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:water="clr-namespace:Careful.Controls.TextBoxExtendControl"
                    xmlns:local="clr-namespace:Careful.Controls.DateTimePickerControl">
    <PathGeometry x:Key="pathDate1">M544 703.872H612.48c10.24 0 17.152-7.04 17.152-17.728V615.36c0-10.624-6.848-17.664-17.152-17.664H544c-10.304 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m0-176.96H612.48c10.24 0 17.152-7.04 17.152-17.728V438.4c0-10.624-6.848-17.664-17.152-17.664H544c-10.304 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m171.392 0h68.608c10.24 0 17.152-7.04 17.152-17.728V438.4c0-10.624-6.912-17.664-17.152-17.664h-68.608c-10.24 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.912 17.728 17.152 17.728z m-342.848 0h68.608c10.24 0 17.088-7.04 17.088-17.728V438.4c0-10.624-6.848-17.664-17.088-17.664H372.48c-10.24 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m342.848 176.96h68.608c10.24 0 17.152-7.04 17.152-17.728V615.36c0-10.624-6.912-17.664-17.152-17.664h-68.608c-10.24 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.912 17.728 17.152 17.728z m0 176.96h68.608c10.24 0 17.152-7.04 17.152-17.728V792.32c0-10.624-6.912-17.664-17.152-17.664h-68.608c-10.24 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.912 17.728 17.152 17.728z m-171.392 0H612.48c10.24 0 17.152-7.04 17.152-17.728V792.32c0-10.624-6.848-17.664-17.152-17.664H544c-10.304 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m-342.848 0h68.544c10.24 0 17.152-7.04 17.152-17.728V792.32c0-10.624-6.848-17.664-17.152-17.664H201.152c-10.304 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m0-176.96h68.544c10.24 0 17.152-7.04 17.152-17.728V615.36c0-10.624-6.848-17.664-17.152-17.664H201.152c-10.304 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z</PathGeometry>
    <PathGeometry x:Key="pathDate2">M904 84.48h-137.152V49.088c0-17.664-13.696-35.392-34.304-35.392-20.544 0-34.304 14.144-34.304 35.392v35.392H286.848V49.088c0-17.664-13.696-35.392-34.304-35.392-20.544 0-34.304 14.144-34.304 35.392v35.392H81.152c-37.76 0-68.608 31.872-68.608 70.784v778.624c0 38.976 30.848 70.784 68.608 70.784h822.848c37.76 0 68.544-31.808 68.544-70.784V155.264c0-38.912-30.848-70.784-68.544-70.784z m0 814.08c0 21.184-13.76 35.328-34.304 35.328H115.392c-20.544 0-34.24-14.144-34.24-35.392V349.952h822.848v548.544z m0-619.392H81.152V190.656c0-21.184 13.696-35.392 34.24-35.392H218.24v35.392c0 17.728 13.76 35.392 34.304 35.392 20.608 0 34.304-14.08 34.304-35.392v-35.392h411.392v35.392c0 17.728 13.76 35.392 34.304 35.392 20.608 0 34.304-14.08 34.304-35.392v-35.392h102.848c20.544 0 34.304 14.208 34.304 35.392v88.512z</PathGeometry>
    <PathGeometry x:Key="pathDate3">M201.152 526.912h68.544c10.24 0 17.152-7.04 17.152-17.728V438.4c0-10.624-6.848-17.664-17.152-17.664H201.152c-10.304 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m171.392 176.96h68.608c10.24 0 17.088-7.04 17.088-17.728V615.36c0-10.624-6.848-17.664-17.088-17.664H372.48c-10.24 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z m0 176.96h68.608c10.24 0 17.088-7.04 17.088-17.728V792.32c0-10.624-6.848-17.664-17.088-17.664H372.48c-10.24 0-17.152 7.04-17.152 17.664v70.784c0 10.624 6.848 17.728 17.152 17.728z</PathGeometry>
    
    <Style x:Key="CalendarTimeButtonStyle"
               TargetType="{x:Type Button}">
        <Setter Property="FontSize"
                    Value="12" />
        <Setter Property="Foreground"
                    Value="Black" />
        <Setter Property="FocusVisualStyle"
                    Value="{x:Null}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border x:Name="ButtonBorder"
                                CornerRadius="3"
                                BorderThickness="1"
                                SnapsToDevicePixels="True"
                                Background="#FFFFFF"
                                Margin="0">
                        <!--Background="#FFFFFF"按钮背景颜色 姜彦20180420 0937-->
                        <Grid>
                            <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Margin="0,0,0,0" />
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsPressed"
                                     Value="true">
                            <Setter TargetName="ButtonBorder"
                                        Property="Opacity"
                                        Value="0.5">
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsEnabled"
                                     Value="false">
                            <Setter TargetName="ButtonBorder"
                                        Property="Background"
                                        Value="#d8d8d8">
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="CalendarOpeartionButtonStyle"
               TargetType="{x:Type Button}">
        <Setter Property="FontSize"
                    Value="12" />
        <Setter Property="Foreground"
                    Value="White" />
        <Setter Property="FocusVisualStyle"
                    Value="{x:Null}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border x:Name="ButtonBorder"
                                CornerRadius="3"
                                BorderThickness="1"
                                SnapsToDevicePixels="True"
                                Background="{TemplateBinding Background}"
                                Margin="0">
                        <!--Background="#FFFFFF"按钮背景颜色 姜彦20180420 0937-->
                        <Grid>
                            <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Margin="0,0,0,0" />
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsPressed"
                                     Value="true">
                            <Setter TargetName="ButtonBorder"
                                        Property="Opacity"
                                        Value="0.5">
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsEnabled"
                                     Value="false">
                            <Setter TargetName="ButtonBorder"
                                        Property="Background"
                                        Value="#d8d8d8">
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="CalendarItem">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CalendarItem}">
                    <ControlTemplate.Resources>
                        <DataTemplate x:Key="{ComponentResourceKey ResourceId=DayTitleTemplate, TypeInTargetAssembly={x:Type CalendarItem}}">
                            <TextBlock Foreground="#FF333333" FontWeight="Bold" FontSize="9.5" FontFamily="Verdana" HorizontalAlignment="Center" Margin="0,6" Text="{Binding}" VerticalAlignment="Center"/>
                        </DataTemplate>
                    </ControlTemplate.Resources>
                    <Grid x:Name="PART_Root">
                        <Grid.Resources>
                            <SolidColorBrush x:Key="Þ" Color="#A5FFFFFF"/>
                        </Grid.Resources>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PART_DisabledVisual"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="1">
                            <Border BorderBrush="White" BorderThickness="2" CornerRadius="1">
                                <Grid>
                                    <Grid.Resources>
                                        <ControlTemplate x:Key="ß" TargetType="{x:Type Button}">
                                            <Grid Cursor="Hand">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal"/>
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Duration="0" To="#FF73A9D8" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)" Storyboard.TargetName="path"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Disabled">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="(Shape.Fill).(Brush.Opacity)" Storyboard.TargetName="path"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Rectangle Fill="#11E5EBF1" Opacity="1" Stretch="Fill"/>
                                                <Grid>
                                                    <Path x:Name="path" Data="M288.75,232.25L288.75,240.625 283,236.625z" Fill="#FF333333" HorizontalAlignment="Left" Height="10" Margin="14,-6,0,0" Stretch="Fill" VerticalAlignment="Center" Width="6"/>
                                                </Grid>
                                            </Grid>
                                        </ControlTemplate>
                                        <ControlTemplate x:Key="à" TargetType="{x:Type Button}">
                                            <Grid Cursor="Hand">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal"/>
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Duration="0" To="#FF73A9D8" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)" Storyboard.TargetName="path"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Disabled">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="(Shape.Fill).(Brush.Opacity)" Storyboard.TargetName="path"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Rectangle Fill="#11E5EBF1" Opacity="1" Stretch="Fill"/>
                                                <Grid>
                                                    <Path x:Name="path" Data="M282.875,231.875L282.875,240.375 288.625,236z" Fill="#FF333333" HorizontalAlignment="Right" Height="10" Margin="0,-6,14,0" Stretch="Fill" VerticalAlignment="Center" Width="6"/>
                                                </Grid>
                                            </Grid>
                                        </ControlTemplate>
                                        <ControlTemplate x:Key="á" TargetType="{x:Type Button}">
                                            <Grid Cursor="Hand">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal"/>
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Duration="0" To="#FF73A9D8" Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)" Storyboard.TargetName="buttonContent"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Disabled">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="buttonContent"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <ContentPresenter x:Name="buttonContent" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" TextElement.Foreground="#FF333333" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="1,4,1,9" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                            </Grid>
                                        </ControlTemplate>
                                    </Grid.Resources>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Button x:Name="PART_PreviousButton" Grid.Column="0" Focusable="False" HorizontalAlignment="Left" Height="20" Grid.Row="0" Width="28">
                                        <Button.Template>
                                            <ControlTemplate TargetType="{x:Type Button}">
                                                <Grid Cursor="Hand">
                                                    <VisualStateManager.VisualStateGroups>
                                                        <VisualStateGroup x:Name="CommonStates">
                                                            <VisualState x:Name="Normal"/>
                                                            <VisualState x:Name="MouseOver">
                                                                <Storyboard>
                                                                    <ColorAnimation Duration="0" To="#FF73A9D8" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)" Storyboard.TargetName="path"/>
                                                                </Storyboard>
                                                            </VisualState>
                                                            <VisualState x:Name="Disabled">
                                                                <Storyboard>
                                                                    <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="(Shape.Fill).(Brush.Opacity)" Storyboard.TargetName="path"/>
                                                                </Storyboard>
                                                            </VisualState>
                                                        </VisualStateGroup>
                                                    </VisualStateManager.VisualStateGroups>
                                                    <Rectangle Fill="#11E5EBF1" Opacity="1" Stretch="Fill"/>
                                                    <Grid>
                                                        <Path x:Name="path" Data="M288.75,232.25L288.75,240.625 283,236.625z" Fill="#FF333333" HorizontalAlignment="Left" Height="10" Margin="14,-6,0,0" Stretch="Fill" VerticalAlignment="Center" Width="6"/>
                                                    </Grid>
                                                </Grid>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                    <Button x:Name="PART_HeaderButton" Grid.Column="1" FontWeight="Bold" Focusable="False" FontSize="10.5" HorizontalAlignment="Center" Grid.Row="0" VerticalAlignment="Center">
                                        <Button.Template>
                                            <ControlTemplate TargetType="{x:Type Button}">
                                                <Grid Cursor="Hand">
                                                    <VisualStateManager.VisualStateGroups>
                                                        <VisualStateGroup x:Name="CommonStates">
                                                            <VisualState x:Name="Normal"/>
                                                            <VisualState x:Name="MouseOver">
                                                                <Storyboard>
                                                                    <ColorAnimation Duration="0" To="#FF73A9D8" Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)" Storyboard.TargetName="buttonContent"/>
                                                                </Storyboard>
                                                            </VisualState>
                                                            <VisualState x:Name="Disabled">
                                                                <Storyboard>
                                                                    <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="buttonContent"/>
                                                                </Storyboard>
                                                            </VisualState>
                                                        </VisualStateGroup>
                                                    </VisualStateManager.VisualStateGroups>
                                                    <ContentPresenter x:Name="buttonContent" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" TextElement.Foreground="#FF333333" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="1,4,1,9" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                                </Grid>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                    <Button x:Name="PART_NextButton" Grid.Column="2" Focusable="False" HorizontalAlignment="Right" Height="20" Grid.Row="0" Width="28">
                                        <Button.Template>
                                            <ControlTemplate TargetType="{x:Type Button}">
                                                <Grid Cursor="Hand">
                                                    <VisualStateManager.VisualStateGroups>
                                                        <VisualStateGroup x:Name="CommonStates">
                                                            <VisualState x:Name="Normal"/>
                                                            <VisualState x:Name="MouseOver">
                                                                <Storyboard>
                                                                    <ColorAnimation Duration="0" To="#FF73A9D8" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)" Storyboard.TargetName="path"/>
                                                                </Storyboard>
                                                            </VisualState>
                                                            <VisualState x:Name="Disabled">
                                                                <Storyboard>
                                                                    <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="(Shape.Fill).(Brush.Opacity)" Storyboard.TargetName="path"/>
                                                                </Storyboard>
                                                            </VisualState>
                                                        </VisualStateGroup>
                                                    </VisualStateManager.VisualStateGroups>
                                                    <Rectangle Fill="#11E5EBF1" Opacity="1" Stretch="Fill"/>
                                                    <Grid>
                                                        <Path x:Name="path" Data="M282.875,231.875L282.875,240.375 288.625,236z" Fill="#FF333333" HorizontalAlignment="Right" Height="10" Margin="0,-6,14,0" Stretch="Fill" VerticalAlignment="Center" Width="6"/>
                                                    </Grid>
                                                </Grid>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                    <Grid x:Name="PART_MonthView" Grid.ColumnSpan="3" HorizontalAlignment="Center" Margin="6,-1,6,6" Grid.Row="1" Visibility="Visible">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                    </Grid>
                                    <Grid x:Name="PART_YearView" Grid.ColumnSpan="3" HorizontalAlignment="Center" Margin="6,-3,7,6" Grid.Row="1" Visibility="Hidden">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                    </Grid>
                                </Grid>
                            </Border>
                        </Border>
                        <Rectangle x:Name="PART_DisabledVisual" Fill="#A5FFFFFF" Opacity="0" RadiusY="2" RadiusX="2" Stretch="Fill" Stroke="#A5FFFFFF" StrokeThickness="1" Visibility="Collapsed"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Visibility" TargetName="PART_DisabledVisual" Value="Visible"/>
                        </Trigger>
                        <DataTrigger Binding="{Binding DisplayMode, RelativeSource={RelativeSource FindAncestor, AncestorLevel=1, AncestorType={x:Type local:CalendarTime}}}" Value="Year">
                            <Setter Property="Visibility" TargetName="PART_MonthView" Value="Hidden"/>
                            <Setter Property="Visibility" TargetName="PART_YearView" Value="Visible"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding DisplayMode, RelativeSource={RelativeSource FindAncestor, AncestorLevel=1, AncestorType={x:Type local:CalendarTime}}}" Value="Decade">
                            <Setter Property="Visibility" TargetName="PART_MonthView" Value="Hidden"/>
                            <Setter Property="Visibility" TargetName="PART_YearView" Value="Visible"/>
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type local:CalendarTime}">
        <Setter Property="Foreground" Value="#FF333333"/>
        <Setter Property="Background" Value="White">
        </Setter>
        <Setter Property="BorderBrush" Value="#FFDBDBDB">
        </Setter>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:CalendarTime}">
                    <Grid x:Name="PART_Root" HorizontalAlignment="Center">
                        <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid Height="229" Width="185" Background="White">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="24" />
                                    <RowDefinition Height="186*" />
                                    <RowDefinition Height="39" />
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0" Background="#FFAFCCF8">
                                    <TextBlock Text="日期时间" VerticalAlignment="Center" FontSize="12" Margin="70,0,0,0" Foreground="White" />
                                </Grid>
                                <Grid Grid.Row="1">
                                    <CalendarItem x:Name="PART_CalendarItem" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}"/>
                                </Grid>
                                <Grid Grid.Row="2" Margin="0,0,0,6">
                                    <Border x:Name="TDateTime2" BorderBrush="#FFA6D4F8" BorderThickness="1" Margin="35,-1,84,0" Height="23">
                                    </Border>
                                    <Label Name="lblTime" Content="时间" Height="28" HorizontalAlignment="Left" Margin="2,0,0,0" />
                                    <Button Name="btnhh" Width="18" Height="23" Margin="36,3,0,6" Content="{Binding Hour,RelativeSource={RelativeSource AncestorType={x:Type local:CalendarTime}}}" HorizontalAlignment="Left" Style="{StaticResource CalendarTimeButtonStyle}" />
                                    <TextBlock Name="textBlockh" Height="23" HorizontalAlignment="Left" Margin="55,8,0,6" Text=":" />
                                    <Button Name="btnmm" Width="18" Height="23" Content="{Binding Minute,RelativeSource={RelativeSource AncestorType={x:Type local:CalendarTime}}}" HorizontalAlignment="Left" Margin="56,3,0,6" Style="{StaticResource CalendarTimeButtonStyle}" />
                                    <TextBlock Name="textBlockm" Height="23" HorizontalAlignment="Left" Margin="75,8,0,6" Text=":" />
                                    <Button Name="btnss" Width="18" Height="23" Content="{Binding Second,RelativeSource={RelativeSource AncestorType={x:Type local:CalendarTime}}}" HorizontalAlignment="Left" Margin="78,3,0,6" Style="{StaticResource CalendarTimeButtonStyle}" />
                                    <Button Name="btnNow" Content="当前" Height="23" HorizontalAlignment="Left" Margin="105,0,0,6" VerticalAlignment="Bottom" Width="36" Style="{StaticResource CalendarOpeartionButtonStyle}" Background="LightBlue" Foreground="White"/>
                                    <Button Name="btnOK" Content="确定" Height="23" HorizontalAlignment="Left" Margin="143,0,0,6" VerticalAlignment="Bottom" Width="39" Style="{StaticResource CalendarOpeartionButtonStyle}" Background="#ecc158" Foreground="White" />
                                </Grid>
                                <Grid x:Name="girdChioce" Background="White" VerticalAlignment="Top" Margin="5,200,0,40">
                                    <Popup x:Name="popChioce" PopupAnimation="Fade" AllowsTransparency="True" PlacementTarget="{Binding ElementName=girdChioce}" Placement="Top" StaysOpen="False" IsOpen="False">
                                        <Grid Background="White">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="24"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" Background="#FFAFCCF8">
                                                <TextBlock Text="{Binding TimeTitle,RelativeSource={RelativeSource AncestorType={x:Type local:CalendarTime}}}" VerticalAlignment="Center" FontSize="12" Foreground="White" HorizontalAlignment="Center"/>
                                            </Grid>
                                            <DataGrid Grid.Row="1" ItemsSource="{Binding HourItemList,RelativeSource={RelativeSource AncestorType={x:Type local:CalendarTime}}}" x:Name="dgHour"
                                                      AutoGenerateColumns="True" SelectionMode="Single" AlternationCount="2" RowHeaderWidth="0"
            CanUserAddRows="False" VerticalAlignment="Top" RowHeight="18" ColumnWidth="18" FontSize="11" SelectionUnit="Cell" IsReadOnly="True" HeadersVisibility="Row" Background="White" BorderBrush="White" HorizontalGridLinesBrush="#d2d2d2" VerticalGridLinesBrush="#d2d2d2" Style="{x:Null}">
                                                
                                            </DataGrid>
                                            <DataGrid Grid.Row="1" ItemsSource="{Binding MinuteSecondList,RelativeSource={RelativeSource AncestorType={x:Type local:CalendarTime}}}" x:Name="dgMinSex"
            SelectionMode="Single" AlternationCount="1" RowHeaderWidth="0" CanUserAddRows="False" VerticalAlignment="Top" RowHeight="18"   AutoGenerateColumns="True" Style="{x:Null}"
            ColumnWidth="18" FontSize="11" SelectionUnit="Cell" IsReadOnly="True" HeadersVisibility="Row" Background="White" BorderBrush="White" HorizontalGridLinesBrush="#d2d2d2" VerticalGridLinesBrush="#d2d2d2">
                                                
                                            </DataGrid>
                                        </Grid>
                                    </Popup>
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type local:DateTimePicker}">
        <Setter Property="Foreground" Value="#FF333333"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="#FFDBDBDB">
        </Setter>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <!--<Setter Property="CalendarStyle" Value="{StaticResource DefaultCalendarStyle}"></Setter>-->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:DateTimePicker}">
                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PART_DisabledVisual"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Grid x:Name="PART_Root" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                            <Grid.Resources>
                                <SolidColorBrush x:Key="DisabledBrush" Color="#A5FFFFFF"/>
                                <ControlTemplate x:Key="DropDownButtonTemplate" TargetType="{x:Type Button}">
                                    <Grid>
                                        <Grid Width="20" Height="20" Background="White">
                                            <Path Stretch="UniformToFill" Height="10" Width="14" Margin="0,0,0,2" VerticalAlignment="Bottom" Fill="#FFBABABA" Data="{DynamicResource pathDate1}"/>
                                            <Path Stretch="UniformToFill" Fill="#FFBABABA" Data="{DynamicResource pathDate2}"/>
                                            <Path Stretch="UniformToFill" Width="6" Height="10" Margin="3,6,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" Fill="#FFBABABA" Data="{DynamicResource pathDate3}"/>
                                        </Grid>
                                    </Grid>
                                    
                                </ControlTemplate>
                            </Grid.Resources>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="PART_Button" Grid.Column="1" Foreground="{TemplateBinding Foreground}" HorizontalAlignment="Left" Margin="3,0,3,0" Grid.Row="0" Template="{StaticResource DropDownButtonTemplate}" VerticalAlignment="Center" Width="20"/>
                            <water:TextBoxExtend x:Name="PART_TextBox" Grid.Column="0" WaterText="{Binding WaterText,RelativeSource={RelativeSource AncestorType=local:DateTimePicker}}" Text="{Binding SelectedDateTime,StringFormat='yyyy-MM-dd HH:mm:ss',RelativeSource={RelativeSource AncestorType={x:Type local:DateTimePicker}}}" BorderThickness="0" Grid.Row="0" VerticalContentAlignment="Center"/>
                            <Grid x:Name="PART_DisabledVisual" Grid.ColumnSpan="2" Grid.Column="0" IsHitTestVisible="False" Opacity="0" Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Rectangle Grid.Column="0" Fill="#A5FFFFFF" RadiusY="1" Grid.Row="0" RadiusX="1"/>
                                <Rectangle Grid.Column="1" Fill="#A5FFFFFF" Height="18" Margin="3,0,3,0" RadiusY="1" Grid.Row="0" RadiusX="1" Width="19"/>
                                <Popup x:Name="PART_Popup" AllowsTransparency="True" Placement="Bottom" PlacementTarget="{Binding ElementName=PART_TextBox}" VerticalOffset="3" StaysOpen="False">
                                    <local:CalendarTime x:Name="ct" DisplayDateStart="{Binding StartDateTime,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=local:DateTimePicker}}" DisplayDateEnd="{Binding EndDateTime,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=local:DateTimePicker}}" SelectedDate="{TemplateBinding SelectedDateTime}"></local:CalendarTime>
                                </Popup>
                            </Grid>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding Source={x:Static SystemParameters.HighContrast}}" Value="false">
                            <Setter Property="Foreground" TargetName="PART_TextBox" Value="{Binding Foreground, RelativeSource={RelativeSource TemplatedParent}}"/>
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    
</ResourceDictionary>